---
title: 设计模式-概览
date: 2022-02-24 10:01:03
mathjax: true
categories: 
tags: 
- 设计模式
---

软件设计模式的几种分类

#### 创建型

创建对象时，不再由我们直接实例化对象；而是根据特定场景，由程序来确定创建对象的方式，从而保证更大的性能、更好的架构优势。

创建型模式主要有：

##### 简单工厂模式

##### 工厂方法

##### 抽象工厂模式

就是建立一个工厂类，对实现了同一接口的一些类进行实例的创建。简单工厂模式的实质是由一个工厂类根据传入的参数，动态决定应该创建哪一个产品类（这些产品类继承自一个父类或接口）的实例。

##### 单例模式

全剧资源管理，简化访问。

##### 生成器模式

生成器模式：将一个复杂对象的构建与他的表示相分离，使得同样的构建过程可以创建不同的表示。

应用场景：一个类的各个组成部分的具体实现类或者算法经常面临着变化，但是将他们组合在一起的算法却相对稳定。提供一种封装机制 将稳定的组合算法于易变的各个组成部分隔离开来。

##### 原型模式

原型模式：用原型实例指定创建对象的种类，并且通过拷贝这些原型来创建新的对象。
应用场景：用new创建一个对象需要非常繁琐的数据准备或者权限

#### 结构型

用于帮助将多个对象组织成更大的结构。

结构型模式主要有：

##### 适配器模式adapter

适配器模式（Adapter Pattern）是作为两个不兼容的接口之间的桥梁。这种类型的设计模式属于结构型模式，它结合了两个独立接口的功能。

这种模式涉及到一个单一的类，该类负责加入独立的或不兼容的接口功能。举个真实的例子，读卡器是作为内存卡和笔记本之间的适配器。您将内存卡插入读卡器，再将读卡器插入笔记本，这样就可以通过笔记本来读取内存卡。

假设一个手机充电器需要的电压是20V，但是正常的电压是220V，这时候就需要一个变压器，将220V的电压转换成20V的电压，这样，变压器就将20V的电压和手机联系起来了。

桥接模式bridge

组合器模式component

##### 装饰器模式decorator

对已有的业务逻辑进一步的封装，使其增加额外的功能，如java中的**IO流**就使用了装饰者模式，用户在使用的时候，可以任意组装，达到自己想要的效果。

门面模式

亨元模式flyweight

##### 代理模式proxy

代理模式是给某一个对象提供一个代理，并由代理对象控制对原对象的引用。

优点：代理模式能够协调调用者和被调用者，在一定程度上降低了系统的耦合度；可以灵活地隐藏被代理对象的部分功能和服务，也增加额外的功能和服务。

缺点：

由于使用了代理模式，因此程序的性能没有直接调用性能高；使用代理模式提高了代码的复杂度。

举一个生活中的例子：比如买飞机票，由于离飞机场太远，直接去飞机场买票不太现实，这个时候我们就可以上携程 App 上购买飞机票，这个时候携程 App 就相当于是飞机票的代理商。

#### 行为型

用于帮助系统间各对象的通信，以及如何控制复杂系统中流程。

行为型模式主要有：

##### 命令模式command

命令模式：将一个请求封装为一个对象，从而使你可以用不同的请求对客户进行参数化，对请求排队和记录请求日志，以及支持可撤销的操作。

应用场景：将命令者与执行者完全解耦。

解释器模式

迭代器模式

STL::iterator

中介者模式

备忘录模式

##### 观察者模式

对象间一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。Android中的**各种Listener**就使用到了这一设计模式，只要用户对手机进行操作，对应的listener就会被通知，并作出响应的处理。

##### 状态模式state

状态模式：允许对象在其内部状态改变时改变他的行为。对象看起来似乎改变了他的类。

应用场景：一个对象的内部状态改变时，他的行为剧烈的变化。

##### 模板模式

模板方法模式是指定义一个模板结构，将具体内容延迟到子类去实现。

##### 策略模式

答：策略模式是指定义一系列算法，将每个算法都封装起来，并且使他们之间可以相互替换。

优点：遵循了开闭原则，扩展性良好。

缺点：随着策略的增加，对外暴露越来越多。

策略模式则是以接口形式提供抽象接口。由具体实现类提供不同算法。

策略模式一般由3部分组成

- 一个Context持有所有策略实现类引用，提供给客户端运行
- 一个策略接口提供
- 具体的策略实现类

通过上面可以看到，策略模式和模板模式有一个最重要的区别，即模板模式一般只针对一套算法，注重对**同一个算法的不同细节进行抽象提供不同的实现**。而策略模式注重多套算法多套实现，在算法中间不应该有交集，因此算法和算法只间一般不会有冗余代码！因为不同算法之间的实现一般不同很相近。

因此我们可以看到，策略模式的关注点更广，模板模式的关注点更深。而且两种模式可以一起使用，即具体某个策略下可以通过模板减少不同步骤的冗余代码。

例如：限流是服务器要实现的功能，但是实现策略有基于滑动窗口的限流策略、基于令牌桶的限流策略等。

访问者模式

参考：

https://baijiahao.baidu.com/s?id=1689289447950480472&wfr=spider&for=pc

https://blog.csdn.net/sinat_34166518/article/details/89206059